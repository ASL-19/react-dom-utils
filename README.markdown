# @asl-19/react-dom-utils

Shared ReactDOM utility functions and types for [ASL19](https://asl19.org/) projects.

See [`docs/react-dom-utils.md`](./docs/react-dom-utils.md) for API documentation.

## Install

```sh
npm install @asl-19/react-dom-utils
```

## Development

This package is developed with Node.js 18 (the active LTS [release](https://nodejs.org/en/about/releases/) as of 2023-08).

In this folder:

```sh
# Watch src and build into dist/cjs and dist/esm on change
npm run dev
```

If you add a new function or making a change to the arguments of an existing function (without this TypeScript won’t be aware of the changes, and the `build-lint-test` script will fail):

```sh
# Update api-extractor/* (metadata about code generated by api-extractor), docs/* (Markdown documentation generated by api-documenter using api-extractor metadata) and types/react-dom-utils.d.ts (types generated by api-extractor)
npm run api-extractor-update
```

In a project that uses `react-dom-utils`:

```sh
# Replace project‘s copy of react-dom-utils with local version
npm link /absolute/path/to/react-dom-utils
```

After running `npm link` you’ll see something like `"@asl-19/react-dom-utils": "file:../../../react-dom-utils"` in your project’s `package.json`, with corresponding changes in `package-lock.json`. And if you look at the project’s `node_modules/@asl-19/react-dom-utils` you’ll see that it’s a [symlink](https://en.wikipedia.org/wiki/Symbolic_link) to the path provided to `npm link`. This means that any changes built into the `dist` directory will immediately apply to the project it’s linked into.

Once you’re finished testing make sure you reset your `package.json` and `package-lock.json`, then run `npm install` to revert to the published copy of the package.
